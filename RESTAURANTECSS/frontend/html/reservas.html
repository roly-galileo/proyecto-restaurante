<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Reservar Mesa</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="../css/reservas.css">

    <!-- Fuente -->
    <link href="https://fonts.googleapis.com/css2?family=Marcellus&display=swap" rel="stylesheet">
</head>

<body>

<div class="container my-5">
    <div class="row align-items-center">

        <div class="col-md-6">
            <form id="formReserva"
                class="contenedor card shadow-lg p-4 needs-validation"
                novalidate>

                <h2 class="text-center mb-4 fw-bold text-success border-bottom pb-2">
                    Reservar Mesa
                </h2>

                <input type="text"
                    id="nombre"
                    name="nombre"
                    class="form-control mb-3"
                    placeholder="Aquí tu nombre"
                    required>
                <div class="invalid-feedback">No válido</div>

                <input type="tel"
                    id="telefono"
                    name="telefono"
                    class="form-control mb-3"
                    placeholder="Teléfono"
                    required>
                <div class="invalid-feedback">No válido</div>

                <p>Fecha de reserva:</p>
                <input type="date"
                    id="fecha"
                    name="fecha"
                    class="form-control mb-3"
                    required>

                <p>Desde:</p>
                <input type="time"
                    id="inicio"
                    name="inicio"
                    class="form-control mb-3"
                    required>

                <p>Hasta:</p>
                <input type="time"
                    id="final"
                    name="final"
                    class="form-control mb-3"
                    required>

                <input type="number"
                    id="personas"
                    name="personas"
                    class="form-control mb-3"
                    placeholder="Número de personas"
                    min="1"
                    required>

                <button type="submit"
                    name="accion"
                    value="azar"
                    class="btn btn-success me-2">
                    Reservar al azar
                </button>

                <button type="submit"
                    name="accion"
                    value="elegir"
                    class="btn btn-success me-2">
                    Elegir mesa
                </button>

                <!-- NUEVO: contenedor mesas -->
                <div id="contenedorMesas" class="mt-3"></div>

            </form>
        </div>

        <div class="col-md-6">
            <div class="row text-center">
                <div class="col-12 mb-3">
                    <img src="../img/mesas.png" class="img-fluid">
                </div>

                <div class="col-12">
                    <div id="respuestaBackend"
                        class="card p-3 shadow-sm d-none">
                        <h5 class="text-success mb-2">
                            ✅ Reserva Confirmada
                        </h5>
                        <p id="detalleReserva" class="mb-0"></p>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<p id="mensaje" class="alert mt-3 d-none"></p>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script src="../js/reserva.js"></script>

</body>
</html>
